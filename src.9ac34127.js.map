{"version":3,"sources":["src/scripts/Modals.ts","src/scripts/Swiper.ts","src/scripts/Parallax.ts","src/scripts/Preload.ts","src/index.ts"],"names":[],"mappings":"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","file":"src.9ac34127.js","sourceRoot":"..","sourcesContent":["export default class Modals {\n\n  private allModals: NodeListOf<HTMLElement>\n  private allTogglers: NodeListOf<HTMLElement>\n  private allCloseButtons: NodeListOf<HTMLElement>\n  private options: Options\n  private activeModal: string\n  private wrapperClasses: string[] = []\n  \n  constructor(options?: any) {\n    this.resetOptions(options)\n    this.resetModals()\n    this.selectModals()\n    this.attachListeners()\n  }\n\n  public closeAll(): void {\n    this.resetModals()\n    this.restoreBody()\n    this.hideBackdrop()\n    this.resetAllWrappers()\n  }\n\n  private attachListeners(): void {\n    this.allTogglers.forEach(toggler => {\n      toggler.addEventListener('click', ({ target }) => {\n        // tslint:disable-next-line\n        const { dataset } = target\n\n        this.showModal(dataset.modalTarget)\n        this.showBackdrop()\n        this.modifyBody()\n\n        if (dataset.modalWrapper) {\n          const { modalWrapper } = dataset\n          \n          this.modifyWrapper(modalWrapper)\n          this.wrapperClasses.push(modalWrapper)\n        }  \n\n        if(dataset.modalAnchor) {\n          const { modalAnchor, modalTarget } = dataset\n\n          this.scrollToAnchor(modalAnchor, modalTarget)\n        }\n      })\n    })\n    \n    this.allCloseButtons.forEach(toggler => {\n      toggler.addEventListener('click', e => {\n        this.closeAll()\n      })\n    })\n  }\n\n  private get hasBackdrop(): boolean {\n    const { backdropSelector } = this.options\n\n    return document.querySelector(backdropSelector) ? true : false;\n  }\n\n  private showBackdrop(): void {\n    const { backdropSelector, backdropClass } = this.options\n\n    if (this.hasBackdrop) {\n      document.querySelector(backdropSelector)?.classList.add(backdropClass)\n    }\n  }\n\n  private hideBackdrop(): void {\n    const { backdropSelector, backdropClass } = this.options\n\n    if (this.hasBackdrop) {\n      document.querySelector(backdropSelector)?.classList.remove(backdropClass)\n    }\n  }\n\n  private modifyWrapper(selector: string): void {\n    const { wrapperClass } = this.options\n    const wrapper = document.querySelector(selector)\n\n    if (wrapper) {\n      wrapper.classList.add(wrapperClass)\n    }\n  }\n\n  private resetAllWrappers(): void {\n    const { wrapperClass } = this.options\n\n    this.wrapperClasses.forEach(selector => {\n      const wrapper = document.querySelector(selector)\n\n      if (wrapper) {\n        wrapper.classList.remove(wrapperClass)\n      }\n    })\n  }\n\n  private selectModals() {\n    this.allModals = document.querySelectorAll(this.options.modalSelector)\n    this.allTogglers = document.querySelectorAll(this.options.togglerSelector)\n    this.allCloseButtons = document.querySelectorAll(this.options.closeButtonSelector)\n  }\n\n  private showModal(id: string): void {\n    const { modalClass } = this.options\n\n    this.activeModal = id\n    document.getElementById(id)?.classList.add(modalClass)\n  }\n\n  private restoreBody(): void {\n    const { bodyClass } = this.options\n\n    document.body.classList.remove(bodyClass)\n  }\n  \n  private modifyBody(): void {\n    const { bodyClass } = this.options\n\n    document.body.className = bodyClass\n  }\n\n  private resetModals(): void {\n    const { modalClass } = this.options\n\n    if (this.activeModal) {\n      document.getElementById(this.activeModal)?.classList.remove(modalClass)\n    }\n    this.activeModal = null\n  }\n\n  private resetOptions(options: any): void {\n    this.options = {\n      ...{\n        modalSelector: '[data-modal]',\n        togglerSelector: '[data-modal-target]',\n        closeButtonSelector: '[data-modal-close]',\n        backdropSelector: '[data-modal-backdrop]',\n        modalClass: '--active',\n        bodyClass: '--no-scroll',\n        backdropClass: '--active',\n        wrapperClass: '--shift',\n      },\n      ...options\n    }\n  }\n\n  private scrollToAnchor(anchor, parent) {\n    const parentElement = document.getElementById(parent)\n    const scrollTo = parentElement?.querySelector(`[id=\"${anchor}\"]`)\n\n    scrollTo?.scrollIntoView()\n  }\n}\n\ninterface Options {\n  modalSelector: string \n  togglerSelector: string\n  closeButtonSelector: string\n  backdropSelector: string\n  modalClass: string\n  bodyClass: string\n  backdropClass: string\n  wrapperClass: string\n}","export default class Swiper {\n\n  private width: number\n  private currentPosition: Point\n  private currentChild: number\n  private options: Options\n  private children: any\n\n  constructor(options?: any) {\n    this.resetOptions(options)\n    this.width = this.updateWidth()\n    try {\n      const { children } = this.wrapper\n\n      this.children = children\n      this.randomPosition()\n      this.updateChildren()\n      this.attachListener()\n    } catch(err) {\n      console.warn(`Consider removing Swiper.js from your modules. There are no children found inside \"${this.options.wrapperSelector}\". Or check your options ... The selector might be wrong.`)\n    }\n  }\n\n  private randomPosition(): void {\n    this.currentChild = Math.floor(Math.random() * this.children.length)\n  }\n\n  private attachListener(): void {\n    this.canvas.addEventListener('mousemove', e => {\n\n      const { threshold } = this.options\n      const { clientX, clientY } = e\n\n      if(this.calculateDelta(clientX, clientY) > threshold) {\n        this.setCurrentPosition(clientX, clientY)\n        this.updateChildren()\n      }\n\n    })\n    this.canvas.addEventListener('touchmove', e => {\n      const { threshold } = this.options\n      const { changedTouches } = e\n      const { clientX } = changedTouches[0]\n\n      if(this.calculateDelta(clientX) > threshold) {\n        this.setCurrentPosition(clientX)\n        this.updateChildren()\n      }\n    })\n  }\n\n  private nextChild(): number {\n    return (this.currentChild + 1) % this.children.length\n  }\n\n  private setCurrentPosition(x: number, y: number = 0) {\n    this.currentPosition = { x, y }\n  }\n\n  private calculateDelta(clientX: number, clientY: number = 0): number {\n    if (!this.currentPosition) {\n      this.currentPosition = {\n        x: clientX,\n        y: clientY\n      }\n    }\n    \n    const { x , y } = this.currentPosition\n\n    return Math.hypot((clientX - x), (clientY - y))\n  }\n\n  private updateChildren(): void {\n    const { childClass } = this.options\n    const nextChild = this.nextChild()\n\n    this.children[this.currentChild].classList.remove(childClass)\n    this.children[nextChild].classList.add(childClass)\n    this.currentChild = nextChild\n  }\n\n  private updateWidth(): number {\n    const { offsetWidth } = this.canvas\n\n    return this.width = offsetWidth\n  }\n\n  private resetOptions(options: any): void {\n    this.options = {\n      ...{\n        canvasSelector: 'header',\n        wrapperSelector: '.swiper__wrapper',\n        childClass: '--active',\n        threshold: 100\n      },\n      ...options\n    }\n  }\n\n  private get wrapper(): HTMLElement {\n    return document.querySelector(this.options.wrapperSelector)\n  }\n\n  private get canvas(): HTMLElement {\n    return document.querySelector(this.options.canvasSelector)\n  }\n\n}\n\ninterface Options {\n  canvasSelector: string \n  wrapperSelector: string\n  childClass: string\n  threshold: number\n}\n\ninterface Point {\n  x: number\n  y: number\n}","export default class Parallax {\n\n  private options: Options\n  private elements: ParallaxObject[] = []\n  private siblingNode: HTMLElement\n\n  constructor(options?: any) {\n    this.resetOptions(options)\n    this.assignElements()\n    this.attachListeners()\n  }\n\n  private attachListeners(): void {\n    window.addEventListener('DOMContentLoaded', () => this.scrollEvent(), false)\n  }\n\n  private scrollEvent(): void {\n\n    this.elements.forEach(({ element, parentNode, parallax }, key) => {\n      const { top, bottom } = parentNode.getBoundingClientRect()\n      const { lastElementKey } = this.options\n      const { innerHeight } = window\n      const threshold = Math.floor((innerHeight - top) / innerHeight * 1000) / 1000\n      const factor = innerHeight * parallax\n      const y = factor - (1 + threshold * factor)\n    \n      if (top <= innerHeight && bottom >= 0) {\n        element.style.transform = `translate3d(0, ${y}px, 0)`\n      }\n\n      if(key === lastElementKey) {\n        // this.siblingNode.style.marginTop = `${y}px`\n        // this.siblingNode.style.paddingBottom = `${-y}px`\n      }\n    })\n\n    requestAnimationFrame(() => this.scrollEvent())\n  }\n\n  private assignElements(): void {\n    const { selector } = this.options\n    const { siblingSelector } = this.options\n\n    if (siblingSelector && document.querySelector(siblingSelector)) {\n      this.siblingNode = document.querySelector(siblingSelector)\n    }\n\n    document.querySelectorAll(selector).forEach(element => {\n      const { dataset, parentNode } = element\n      const { parallax } = dataset\n\n      this.elements.push({\n        element, \n        parentNode,\n        parallax\n      })\n    }, this)\n  }\n\n  private resetOptions(options: any): void {\n    this.options = {\n      ...{\n        selector: '[data-parallax]'\n      },\n      ...options\n    }\n  }\n}\n\ninterface Options {\n  selector: string\n  lastElementKey: number\n  siblingSelector: string\n}\n\ninterface ParallaxObject {\n  element: HTMLElement\n  lastElement: HTMLElement\n  parentNode: HTMLElement\n  parallax: number\n}","export default class Preload {\n\n  private options: Options\n  private allImages: NodeListOf<Element>\n\n  constructor(options?: any) {\n    this.resetOptions(options)\n    this.queryAllImages()\n    this.preloadImages()\n    this.showLoading()\n  }\n\n  private showLoading() {\n    const { bodyClass, loadingClass, loading } = this.options\n\n    document.body.classList.add(bodyClass)\n    document.querySelector(loading).classList.add(loadingClass)\n  }\n\n  private queryAllImages(): void {\n    const { imageSelector } = this.options\n\n    this.allImages = document.querySelectorAll(imageSelector)\n  }\n\n  private preloadImages() {\n    if (!this.allImages) return;\n\n    const { animationDuration } = this.options\n\n    window.setTimeout(() => {\n      this.resetBody()\n      this.hideLoading()\n    }, animationDuration)\n  }\n\n  private resetBody(): void {\n    const { bodyClass } = this.options\n\n    document.body.classList.remove(bodyClass)\n  }\n\n  private hideLoading(): void {\n    const { loading, loadingClass, loadingFadeOutClass } = this.options\n\n    document.querySelector(loading).classList.add(loadingFadeOutClass)\n\n    window.setTimeout(() => {\n      document.querySelector(loading).remove()\n    }, 340);\n  }\n\n  private resetOptions(options: any): void {\n    this.options = {\n      ...{\n        loading: '.loading-screen',\n        loadingClass: '--show',\n        loadingFadeOutClass: '--fade-out',\n        bodyClass: '--loading',\n        imageSelector: '[data-preload]',\n        animationDuration: 3500\n      },\n      ...options\n    }\n  }\n}\n\ninterface Options {\n  loading: string\n  loadingClass: string\n  loadingFadeOutClass: string\n  bodyClass: string\n  imageSelector: string\n  animationDuration: number\n}","import  './styles/index.scss'\nimport Modals from './scripts/Modals'\nimport Swiper from './scripts/Swiper'\nimport Parallax from './scripts/Parallax'\nimport Preload from './scripts/Preload'\n\nconst swiper = new Swiper({ threshold: 120 })\nconst modals = new Modals()\nconst parallax = new Parallax({ siblingSelector: 'footer', lastElementKey: 65 })\nconst preload = new Preload({ animationDuration: 4000 })\n\ndocument.addEventListener('keydown', e => {\n  const isEscape = \n    e.keyCode === 27 \n    || e.key === 'Escape' \n    || e.key === 'Esc'\n    ? true\n    : false\n\n  if (isEscape) {\n    modals.closeAll()\n  }\n})\n\nconst imprintEl = document.querySelector('.imprint')\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  imprintEl.classList.add('--collapsed')\n})\n\nimprintEl.addEventListener('click', ({ target }) => {\n  target.classList.remove('--collapsed')\n})\n\nimprintEl.addEventListener('click', ({ target }) => {\n  target.classList.remove('--collapsed')\n})\n\nimprintEl.addEventListener('mouseover', ({ target }) => {\n  target.classList.add('--hover')\n})\n\nimprintEl.addEventListener('mouseout', ({ target }) => {\n  target.classList.remove('--hover')\n})\n\n// Tomas sah den eigenen Mund im Gesicht seines Sohnes und dachte: Sonderbar, den eigenen Mund stottern zu sehen. \n\n// »In deinem Artikel stand etwas Wunderbares«, fuhr der Sohn fort, und man konnte sehen, daß es ihn Mühe kostete: »Die Kompromißlosigkeit. Diese Fähigkeit kommt uns allmählich abhanden, der Sinn für eine klare Unterscheidung von Gut und Böse. Man weiß nicht mehr, was es heißt, sich schuldig zu fühlen. Die Kommunisten haben die Ausrede, Stalin hätte sie hinters Licht geführt. Der Mörder entschuldigt sich, indem er sagt, seine Mutter hätte ihn nicht geliebt und er wäre frustriert. Du aber hast auf einmal gesagt: Es gibt keine Ausrede. Niemand war in seinem Inneren unschuldiger als Ödipus. Und trotzdem hat er sich selbst bestraft, als er einsah, was er getan hatte.«\n\n// Tomas riß den Blick mit Gewalt von seiner Lippe im Gesicht des Sohnes los und versuchte, den Redakteur anzusehen. Er war gereizt, hatte Lust zu widersprechen und sagte: »Wissen Sie, das ist alles ein Mißverständnis. Die Grenzen zwischen Gut und Böse sind furchtbar undeutlich. Es ist mir überhaupt nicht darum gegangen, daß jemand bestraft werden sollte. Jemanden zu bestrafen, der nicht wußte, was er tat, ist Barbarei. Der Ödipusmythos ist sehr schön. Aber so mit ihm umzugehen ...« Er wollte noch etwas sagen, erinnerte sich dann aber, daß die Wohnung möglicherweise abgehört wurde. Er hatte nicht den geringsten Ehrgeiz, von den Historikern kommender Jahrhunderte zitiert zu werden.\n\n// Viel eher hegte er Bedenken, die Polizei könnte ihn zitieren.\n\n// Es war ja gerade die Verurteilung seines eigenen Artikels, die man von ihm gefordert hatte. Es war ihm unangenehm, daß die Polizei es nun endlich aus seinem eigenen Munde hören konnte. Er wußte, daß alles, was man in diesem Land aussprach, jederzeit im Rundfunk gesendet werden konnte. Er verstummte.\n\n// »Was hat Sie zu diesem Gesinnungswandel bewogen?« fragte der Redakteur.\n\n// »Ich frage mich eher, was mich damals bewogen hat, diesen Artikel zu schreiben ...«, sagte Tomas, und in diesem Moment fiel es ihm ein: sie war an seinem Bett gestrandet wie ein Kind, das man in einen Korb gelegt und auf dem Wasser ausgesetzt hatte. Ja, deswegen hatte er jenes Buch in die Hand genommen, deswegen war er zu den Geschichten von Romulus, Moses und Ödipus zurückgekehrt. Plötzlich war sie hier bei ihm. Er sah sie vor sich, wie sie die in den roten Schal gehüllte Krähe an die Brust drückte. Dieses Bild tröstete ihn. Als wäre es aufgetaucht, um ihm zu sagen, daß Teresa lebte, daß sie in diesem Moment in derselben Stadt war wie er, und alles andere bedeutungslos sei.\n\n// Der Redakteur unterbrach das Schweigen: »Ich verstehe Sie, Herr Doktor. Mir gefällt es auch nicht, daß man bestraft.\n\n// Wir fordern aber keine Strafe«, lächelte er, »wir fordern das Erlassen der Strafe.«\n\n// »Ich weiß«, sagte Tomas. Er hatte sich bereits damit abgefunden, in den nächsten Sekunden etwas zu tun, das vielleicht edelmütig, gewiß aber völlig überflüssig war (weil es den politischen Häftlingen nicht half), und ihm persönlich unangenehm (weil es unter Umständen geschah, die ihm aufgezwungen worden waren).\n\n// Der Sohn sagte (fast bittend): »Es ist deine Pflicht zu unterschreiben.«\n\n// Seine Pflicht? Sein Sohn erinnerte ihn an seine\n\n// Pflichten?\n\n// Das war das Schlimmste, was man ihm sagen konnte. Wieder erschien vor seinen Augen das Bild Teresas, wie sie die Krähe in den Armen hielt. Er erinnerte sich daran, daß sie gestern in der Bar von einem Spitzel belästigt worden war. Ihre Hände zitterten wieder. Sie war alt geworden.\n\n// Ihm liegt an nichts, außer an ihr. Sie, die aus sechs Zufallen Geborene, sie, die aus dem Ischias des Chefarztes entsprossene Blüte, sie, die jenseits aller »Es muß sein!« steht, sie ist das einzige, was ihm wirklich wichtig ist.\n\n// Warum überlegt er, ob er unterschreiben soll oder nicht?\n\n// Für sämtliche Entscheidungen gibt es nur ein Kriterium: er darf nichts tun, was ihr schaden könnte. Tomas kann keine politischen Gefangenen retten, wohl aber Teresa glücklich machen. Nein, nicht einmal das kann er. Unterzeichnet er aber die Petition, ist es so gut wie sicher, daß die Spitzel sie noch häufiger belästigen und ihre Hände noch stärker zittern werden.\n\n// Er sagte: »Es ist viel wichtiger, eine lebendig begrabene Krähe zu befreien, als dem Präsidenten eine Petition zu schicken.«\n\n// Er wußte, daß der Satz unverständlich war, und gerade deswegen gefiel er ihm noch besser. Er empfand plötzlich einen unerwarteten Rausch. Es war derselbe Rausch wie damals, als er seiner Frau feierlich verkündet hatte, daß er weder sie noch seinen Sohn je wiedersehen wollte. Es war derselbe Rausch wie damals, als er das Schreiben in den Briefkasten geworfen hatte, mit dem er sich für immer vom Arztberuf lossagte. Er war gar nicht sicher, richtig zu handeln, doch war er sicher, so zu handeln, wie er handeln wollte.\n\n// Er sagte: »Seid mir nicht böse. Ich werde nicht unterschreiben.«\n\n// Nach ein paar Tagen las er in allen Zeitungen Berichte über die Petition.\n\n// Nirgends stand allerdings geschrieben, daß es sich um ein höfliches Gesuch zugunsten der politischen Gefangenen handelte und man deren Freilassung forderte. Keine einzige Zeitung zitierte auch nur einen Satz des kurzen Textes. Statt dessen wurde lang und breit in unklaren, drohenden Formulierungen von einem staatsfeindlichen Aufruf gesprochen, der zur Basis eines neuen Kampfes gegen den Sozialismus hätte werden sollen. Diejenigen, die den Text unterschrieben hatten, wurden namentlich aufgeführt, und ihre Namen waren von Verleumdungen und Angriffen begleitet, bei denen es Tomas kalt über den Rücken lief.\n\n// Gewiß, das war vorauszusehen gewesen. In jener Zeit wurde jede öffentliche Aktion (jede Versammlung, Petition, Ansammlung auf der Straße), die nicht von der kommunistischen Partei organisiert war, automatisch als gesetzwidrig eingestuft und stellte eine Gefahr für die Teilnehmer dar.\n\n// Jedermann wußte das. Gerade darum ärgerte es Tomas um so mehr, daß er die Petition nicht unterschrieben hatte. Warum eigentlich nicht? Er verstand die Motive seiner Entscheidung selbst nicht mehr so ganz.\n\n// Wieder sehe ich ihn vor mir, wie er mir am Anfang des Romans erschienen ist. Er steht am Fenster und schaut über den Hof auf die Mauer des Wohnblocks gegenüber.\n\n// Das ist das Bild, aus dem er geboren ist. Wie ich schon gesagt habe, werden Romanpersonen nicht wie lebendige\n\n// Menschen aus einem Mutterleib, sondern aus einer Situation, einem Satz, einer Metapher geboren, in deren Kern eine Möglichkeit des Menschen verborgen liegt, von der der Autor meint, daß sie noch nicht entdeckt oder daß noch nichts Wesentliches darüber gesagt worden sei.\n\n// Oder stimmt es, daß ein Autor nur über sich selbst reden kann?\n\n// Hilflos über den Hof zu schauen und nicht zu wissen, was tun; das Rumoren des eigenen Bauches im Moment verliebter Erregung zu hören; zu verraten und nicht innehalten zu können auf dem schönen Weg von Verrat zu Verrat; die Faust zu erheben im Zug des Großen Marsches; seinen Scharfsinn vor den geheimen Mikrophonen der Polizei zur Schau zu stellen - alle diese Situationen habe ich selbst kennengelernt und erlebt, und trotzdem ist aus keiner die Person erwachsen, die ich selbst in meinem curriculum vitae bin. Die Personen meines Romans sind meine eigenen Möglichkeiten, die sich nicht verwirklicht haben. Deshalb habe ich sie alle gleich gern, deshalb machen sie mir alle die gleiche Angst. Jede von ihnen hat eine Grenze überschritten, der ich selbst ausgewichen bin. Gerade diese unüberschrittene Grenze (die Grenze, jenseits derer mein Ich endet) zieht mich an. Erst dahinter beginnt das große Geheimnis, nach dem der Roman fragt.\n\n// Ein Roman ist nicht die Beichte eines Autors, sondern die Erforschung dessen, was das menschliche Leben bedeutet in der Falle, zu der die Welt geworden ist. Aber genug. Kehren wir zu Tomas zurück.\n\n// Er ist allein in der Wohnung und schaut über den Hof auf die schmutzige Mauer des Wohnblocks gegenüber. Er fühlt eine Art Sehnsucht nach dem hochgewachsenen Mann mit dem großen Kinn und nach dessen Freunden, die er nicht kennt und zu denen er nicht gehört. Es kommt ihm vor, als habe er auf einem Bahnsteig eine schöne Unbekannte getroffen, die, noch bevor er sie ansprechen konnte, in den Schlafwagen eines Zuges gestiegen ist, der nach Istanbul oder Lissabon fährt.\n\n// Wieder versuchte er sich vorzustellen, wie er sich hätte richtig verhalten sollen. Und obwohl er bemüht war, alle Gefühle zur Seite zu schieben (die Bewunderung für den Redakteur, die Gereiztheit, die sein Sohn in ihm auslöste), war er immer noch nicht sicher, ob er den Text, den sie ihm vorgelegt hatten, hätte unterschreiben sollen.\n\n// Ist es richtig, die Stimme zu erheben, wenn ein Mensch zum Schweigen gebracht wird? Ja.\n\n// Aber auf der anderen Seite: Warum haben die Zeitungen dieser Petition so viel Platz eingeräumt? Die (total vom Staat manipulierte) Presse hätte doch die ganze Affäre ebensogut verschweigen können, und niemand hätte etwas erfahren.\n\n// Wenn sie darüber berichtete, bedeutete dies, daß sie den Herrschern des Landes gelegen kam! Sie war ein Geschenk des Himmels, um eine neue, große Verfolgungswelle zu rechtfertigen und in Gang zu setzen.\n\n// Wie hätte er sich also richtig verhalten sollen? Unterschreiben oder nicht unterschreiben?\n\n// Man kann die Frage auch so formulieren: Ist es besser zu schreien und so sein eigenes Ende zu beschleunigen? Oder zu schweigen und sich so ein langsameres Sterben zu erkaufen?\n\n// Gibt es überhaupt eine Antwort auf diese Fragen?\n\n// Und von neuem kam ihm ein Gedanke, den wir schon kennen: das menschliche Leben findet nur einmal statt, und deshalb werden wir niemals feststellen können, welche von unseren Entscheidungen gut und welche schlecht waren, weil wir uns in einer gegebenen Situation nur einmal entscheiden können. Es wurde uns kein zweites, drittes oder viertes Leben geschenkt, so daß wir verschiedene Entscheidungen miteinander vergleichen könnten.\n\n// Mit der Geschichte verhält es sich ähnlich wie mit dem Leben des Individuums. Es gibt nur eine Geschichte der Tschechen. Eines Tages wird sie zu Ende sein wie das Leben von Tomas, und sie wird sich nicht ein zweites Mal wiederholen können."]}